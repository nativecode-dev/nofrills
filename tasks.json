{
  "tasks": {
    "bootstrap": [
      "lerna bootstrap"
    ],
    "build": [
      "[clean]",
      "[format]",
      "[lint]",
      "[build:compile]"
    ],
    "build:compile": [
      "lerna run build"
    ],
    "clean": [
      "rimraf .cache",
      "rimraf core/*/lib",
      "rimraf packages/*/lib",
      "rimraf typings/*/lib",
      "rimraf **/*.tsbuildinfo"
    ],
    "setup-git": [
      ".citools/setup-git ${CI_COMMIT_REF_NAME} git@git.nativecode.net:nativecode/nofrills.git automaton@nativecode.com"
    ],
    "setup-ssh": [
      "echo ${GIT_SSH_KEY_GITLAB} | base64 --decode > /tmp/repo-key",
      ".citools/setup-ssh git.nativecode.net /tmp/repo-key gitssh.nativecode.net"
    ],
    "commit": [
      "git add -A .",
      "git-cz"
    ],
    "coverage": [
      "nyc report --reporter=text-lcov | coveralls"
    ],
    "format": [
      "prettier --loglevel silent --write \"*/*/specs/**/*.ts\"",
      "prettier --loglevel silent --write \"*/*/src/**/*.ts\""
    ],
    "lint": [
      "tslint --project tsconfig.json --config tslint.json"
    ],
    "release": [
      ".citools/lerna-publish release"
    ],
    "release:canary": [
      ".citools/lerna-publish canary"
    ],
    "release:pre": [
      ".citools/lerna-publish prerelease"
    ],
    "test": [
      "[build]",
      "[test:only]"
    ],
    "test:ci": [
      "[build:compile]",
      "[test:only]"
    ],
    "test:only": [
      "nyc mocha --opts mocha.opts"
    ],
    "install": [
      "npm install",
      "[bootstrap]",
      "[build]"
    ],
    "upgrade": [
      "npm-check -y",
      "lerna run upgrade"
    ]
  }
}
